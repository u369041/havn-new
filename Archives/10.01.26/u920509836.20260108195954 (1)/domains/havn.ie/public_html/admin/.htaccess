# ===================================================================
#  HAVN.ie production .htaccess
# ===================================================================

# Force HTTPS and remove "www"
RewriteEngine On
RewriteCond %{HTTPS} !=on [OR]
RewriteCond %{HTTP_HOST} ^www\. [NC]
RewriteRule ^(.*)$ https://havn.ie/$1 [L,R=301]

# -------------------------------------------------------------------
#  HAVN sitemap pretty URL â†’ PHP builder
# -------------------------------------------------------------------
RewriteRule ^sitemap\.xml$ sitemap.xml.php [L]

# -------------------------------------------------------------------
#  Basic security headers
# -------------------------------------------------------------------
<IfModule mod_headers.c>
  Header always set X-Content-Type-Options "nosniff"
  Header always set X-Frame-Options "SAMEORIGIN"
  Header always set Referrer-Policy "strict-origin-when-cross-origin"
  Header always set Permissions-Policy "geolocation=()"
</IfModule>

# -------------------------------------------------------------------
#  Cache static assets
# -------------------------------------------------------------------
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType text/css "access plus 7 days"
  ExpiresByType application/javascript "access plus 7 days"
  ExpiresByType image/webp "access plus 30 days"
  ExpiresByType image/jpeg "access plus 30 days"
  ExpiresByType image/png "access plus 30 days"
  ExpiresDefault "access plus 1 day"
</IfModule>

# -------------------------------------------------------------------
#  Default index file
# -------------------------------------------------------------------
DirectoryIndex index.html
