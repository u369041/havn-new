generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum ListingStatus {
  DRAFT
  SUBMITTED
  PUBLISHED
  REJECTED
  ARCHIVED
}

model Property {
  id                Int            @id @default(autoincrement())
  userId            Int
  slug              String          @unique
  title             String
  address1          String
  address2          String?
  city              String
  county            String
  eircode           String?
  lat               Float?
  lng               Float?
  price             Int
  bedrooms          Int?
  bathrooms         Int?
  propertyType      String
  ber               String?
  berNo             String?
  saleType          String?
  marketStatus      String?
  description       String?
  features          String[]
  photos            String[]

  listingStatus     ListingStatus  @default(DRAFT)

  submittedAt       DateTime?
  approvedAt        DateTime?
  approvedById      Int?
  rejectedAt        DateTime?
  rejectedById      Int?
  rejectionReason   String?

  archivedAt        DateTime?
  publishedAt       DateTime?

  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
}
