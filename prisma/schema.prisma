generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL") // e.g. postgres://user:pass@ep-xxx.neon.tech/neondb?sslmode=require
}

model Property {
  id          String   @id @default(cuid())
  slug        String   @unique
  title       String
  status      String   @default("For Sale")   // "For Sale" | "Sale Agreed" | "To Rent" | "Let Agreed"
  listingType String                           // "sale" | "rent"
  price       Int
  pricePeriod String?
  address     String
  eircode     String                           // store uppercase, no spaces
  city        String?
  county      String?
  type        String?
  ber         String?
  beds        Int?
  baths       Int?
  area        Int?
  description String?

  images     String[]                          // Postgres text[]
  videoUrl   String?
  floorplans String[]                          // Postgres text[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([createdAt])
  @@index([listingType, status])
  @@index([eircode])
}
