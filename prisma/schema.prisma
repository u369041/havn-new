// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum UserRole {
  admin
  user
}

model Property {
  id           Int      @id @default(autoincrement())
  slug         String   @unique
  title        String
  address1     String
  address2     String?
  city         String
  county       String
  eircode      String?
  lat          Float?
  lng          Float?
  price        Int
  bedrooms     Int?
  bathrooms    Int?
  propertyType String   @map("propertyType")
  ber          String?
  berNo        String?  @map("berNo")
  saleType     String?  @map("saleType")
  status       String?
  description  String?
  features     String[] @default([])
  photos       String[] @default([])
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  userId Int?
  user   User? @relation(fields: [userId], references: [id])

  @@map("Property")
}

model User {
  id        Int      @id @default(autoincrement())
  name      String?
  email     String   @unique
  password  String
  role      UserRole @default(user)
  createdAt DateTime @default(now())

  properties Property[]
}
